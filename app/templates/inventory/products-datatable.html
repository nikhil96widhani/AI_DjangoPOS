{% extends 'base.html' %}
{% load static %}

{% block css %}
    {#    <link rel="stylesheet" type="text/css"#}
    {#          href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.22/b-1.6.5/b-colvis-1.6.5/b-flash-1.6.5/b-html5-1.6.5/b-print-1.6.5/fc-3.3.1/fh-3.1.7/kt-2.5.3/sc-2.0.3/sb-1.0.0/sp-1.2.1/sl-1.3.1/datatables.min.css"/>#}
    <link rel="stylesheet" type="text/css" href="{% static 'css/datatables.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/fm.tagator.jquery.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery.autocomplete.css' %}">

{% endblock %}

{% block page-title %}
    Products Datatable
{% endblock %}

{% block content %}
    <div class="card">
        <div class="card-body">
            <div class="row justify-content-between mt-1 mb-2">
                <div class="col-4">
                    <h2 class="pt-2">Products Details</h2>
                </div>
                <div class="col-auto">
                    <a class="btn btn btn-md btn-secondary btn-rounded waves-effect waves-light mr-3"
                       href="{% url 'product-expiry-label' %}" target="_blank"><i class="fas fa-print mr-1"></i>
                        Print Expiry Label
                    </a>
                    <button class="float-right btn btn btn-md btn-primary btn-rounded waves-effect waves-light"
                            data-toggle="modal" data-target="#addProductModalForm"><i class="fas fa-plus mr-2"></i>
                        Add Product
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="custom-control custom-switch float-right mb-2 mr-1">
                        <input type="checkbox" class="custom-control-input" id="toggle-advance-search-button">
                        <label class="custom-control-label" for="toggle-advance-search-button">Advance Search</label>
                    </div>
                </div>
            </div>
            <table id="products-datatable" class="table nowrap text-center custom-datatable" style="width:100%">
                <thead>
                <tr style="background: #e2e6ea">
                    <th>Product Code</th>
                    <th>Product Name</th>
                    <th>Cost {{ my_config.currency }}</th>
                    <th>MRP {{ my_config.currency }}</th>
                    <th>Discounted Price {{ my_config.currency }}</th>
                    <th>Quantity</th>
                    <th>Weight</th>
                    <th>Company</th>
                    <th>Rack</th>
                    <th>Actions</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    {% include 'components/add-product-form-modal.html' %}
    {% include 'components/edit-product-form-modal.html' %}
    {% include 'components/add-variation-form-modal.html' %}

    <!-- Modal -->
    <div class="modal fade" id="deleteProductPrompt" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenterTitle"
         aria-hidden="true">

        <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Are you sure?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Variation with Product (Code - <span class="text-warning font-weight-bold" id="static-product-code-delete"></span>) will be deleted.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="product-delete-yes">Yes</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Extra Modal -->
    <div class="modal fade" id="extraConfirmationPrompt" tabindex="-1"
         aria-labelledby="exampleModalLabel" aria-hidden="true">

        <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id=""></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="modal-yes-button"></button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" id="modal-no-button">No</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="{% static 'js/fm.tagator.jquery.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.autocomplete.js' %}"></script>
    <script src="{% static 'js/jquery.pos.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/datatables.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/datatable-common.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/products-datatable.js' %}"></script>
{% endblock %}
